<link rel="stylesheet" href="/css/edituser.css">

<div id = 'main'>
  <container class = "container-fluid"> 

    <div class='form-group'>
        <label for="title">username</label>
        <input class="form-control" type="text" id = 'newusername' value="{{this.dataValues.username}}">
    </div>

    <div id = 'imageInput' class='form-group'>
        <label for="imageURL">Avatar (enter an image url)</label>
        <input class="form-control" type="text" id = 'avatar' value="{{this.dataValues.avatar}}" style='margin-bottom: 1rem'>
        <button type="submit" class="btn btn-outline-secondary" id='addImage'>Add Image</button>
    </div>

    <div class='form-group'>
        <label for="title">email</label>
        <input class="form-control" type="text" id = 'email' value="{{this.dataValues.email}}">
    </div>

    <div class="form-group">
        <label for='textContent'>Bio</label>
        <textarea class="form-control" id="bio" rows="3">{{this.dataValues.bio}}</textarea>
    </div>
    
  <button type="submit" class="btn btn-outline-secondary" id='submit'>Submit</button>

  </container>
</div>

<script>
    $('#submit').on('click',function(event){
        event.preventDefault();
        var userObj = {};
        userObj.username = $('#newusername').val();
        userObj.avatar = $('#avatar').val();
        userObj.email = $('#email').val();
        userObj.bio = $('#bio').val();

        $.post('/user/{{this.dataValues.id}}/edit',userObj,function(data){
            location.assign(data);
        });
    });
</script>